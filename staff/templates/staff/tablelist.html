{% extends "base1.html" %}
{% load static %}
{% load filters %}
{% block content %}

<div class="container-xxl bg-white p-0">
 <!-- Spinner Start -->
  <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
      <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
          <span class="sr-only">Loading...</span>
      </div>
  </div>
  <!-- Spinner End -->
{% include "navbar.html" %}

      <div class="container-xxl py-5 bg-dark  mb-5">
            <div class="container my-3 py-5">
             
                    </div>
                </div>
        
          <div class="container my-2 py-2">
            <table class="table table-dark table-striped" id="tablelist">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Available</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                    {% for table in tables %}
                    <tr>
                        <th scope="row">{{table.id}}</th>
                        <td>{{table.name}}</td>
                        <td>
                        
                        {% table_avalibility table %} 
                        </td>
                    </tr>    
                    {% endfor %} 
                </tbody>
                
              </table>
          </div>
      </div>
  </div>
  <!-- Navbar & Hero End -->

   

<script>
let dataTable;
let dataTableIsInitialized = false;



const initDataTable = async () => {
    if (dataTableIsInitialized) {
        dataTable.destroy();
    }
    
    dataTable = $("#tablelist").DataTable( {
        columnDefs: [
            { className: "centered", targets: [0, 1, 2, 3] },
            
        ],
        
        
    }); 
    dataTableIsInitialized = true;
};

window.addEventListener("load", async () => {
    await initDataTable();
});


</script>

                   
{% endblock content %}
