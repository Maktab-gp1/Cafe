{% extends 'base1.html' %}
{% load static %}
{% block content %}

<div class="container-xxl bg-white p-0">
  <!-- Spinner Start -->
  <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
      <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
          <span class="sr-only">Loading...</span>
      </div>
  </div>
  <!-- Spinner End -->


  <!-- Navbar & Hero Start -->
  <div class="container-xxl position-relative p-0 ">
    {% include "navbar.html" %}

      <div class="container-xxl py-5 bg-dark hero-header mb-5">
          
      </div>
  </div>
  <!-- Navbar & Hero End -->

      <div class="tab-content px-3 " id="menu">
          
          <div id="tab-1" class="tab-pane fade show p-0 active">


      <div class="row g-3 justify-content-between  " >
        {% for item in cart %}
        {% with product=item.product %}
        <div class="col-lg-6 ">
          <div class="d-flex  align-items-center">
                      
              <img  class="flex-shrink-0 img-thumbnail mb-2 rounded" src="{% if product.image %}{{ product.image.url }}
                    {% else %}{% static "img/no_image.png" %}{% endif %}"  style="width: 90px;"> 
              </a>
              <div class="w-100 d-flex flex-column text-start ps-4">
                <h5 class="d-flex justify-content-between border-bottom pb-2">
                    <span>{{ product.name }}</span>
                    <span class="text-primary">${{ item.total_price }}</span>
                </h5>
                <small class="fst-italic d-flex justify-content-between">
                      <form class="d-flex justify-content-left text-white animated  mb-2 pb-2" action="{% url "cart:cart_add" product.id %}" method="post">
                        <span class ='m-4'>{{ item.update_quantity_form.quantity }}
                        {{ item.update_quantity_form.override }}</span>
                        <input class="btn btn-primary btn-sm py-sm-2 px-sm-2 m-4 me-2 animated " type="submit" value="Update">
                        {% csrf_token %}
                      </form>
                      <form clsss="d-flex justify-content-right" action="{% url 'cart:cart_remove' product.id %}" method="post">
                      <input class="btn btn-primary btn-sm py-sm-2 px-sm-2 m-4 me-2 animated " type="submit" value="Remove">
                      {% csrf_token %}
                      </form>
                      </small>
            </div>
          </div>
        </div>
        
        {% endwith %}
        {% endfor %}
   
       
          {% comment %} <div class="col-lg-6 d-flex align-items-center justify-content-center"> {% endcomment %}
            <div class="d-flex align-items-center justify-content-between">
              <td>Total: </td>
              <td colspan="4"></td>
              <td class="num">${{ cart.get_total_price }}</td><br>
              <a href="{% url 'shop:productlist' 'all' %}" class="btn btn-dark btn-sm py-sm-2 px-sm-2 me-2 animated ">Continue shopping</a>
              <a href="{% url 'orders:order_create' %}" class="btn btn-primary btn-sm py-sm-2 px-sm-2 me-2 animated ">Checkout</a>
           
          </div> 
        </div>
  </div>
  {% endblock content %}